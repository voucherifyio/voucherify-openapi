---
title: Webhooks v2024-01-01
type: basic
categorySlug: events
slug: introduction-to-webhooks
hidden: false
order: -2
---
The v2024-01-01 webhook version can be used to inform your system about various events that are triggered in Voucherify. The v2024-01-01 webhooks work for [distributions](#webhooks-available-in-distributions) and events listed in the [Project settings](#webhooks-available-in-project-settings).

The v2024-01-01 webhooks (both for distributions and project settings) share the same data structure, consisting of the following keys:
- `id`
- `project_id`
- `created_at`
- `type`
- `data`
- `source`
- `event`

The values for the `type` and `data` depend on the event that triggers the webhook. Go to [Project Setting Webhook Payload](#project-setting-webhook-payload) and [Distribution Webhook Payload](#distribution-webhook-payload) to learn more about their payloads.

## Configuring v2024-01-01 Webhooks

1. In Voucherify dashboard, go to Project settings.
2. Scroll down to the Webhooks section.
3. Click the plus button â€“ Add new webhook.
4. Choose v2024-01-01 webhook version.
5. Provide the following details:
   1. Enter the target URL.
   2. Tick the Is active? checkbox.
   3. Select the [events](#webhooks-available-in-project-settings "Project setting webhooks") you want to receive. If you want to receive all the events, choose Send me all events option.
   4. Click Send test webhook to test your configuration (optional).
   5. Click Create endpoint.
6. If necessary for authentication reasons, enter the Secret key in your system to receive webhooks from Voucherify.

You can add multiple webhooks to your projects following the steps above.

To update webhook details, click the Pencil button â€“ edit. Enter your changes and click Update endpoint.

To delete a webhook, click the Trash button and click Delete.

### Get Notified About Failed Sendouts

You can set up notifications to inform you via email or in the app that a webhook did not reach the destination.

Go to the Notification Center > Account Settings and scroll down to Webhook callout notifications to configure notifications.

## Audit log

You can check details about a webhook sendout. In Voucherify dashboard, go to Audit log and Webhook sendouts tab.

The Audit Log includes the following details:
- Webhook status
- Webhook type
- Webhook ID
- Source
- Target URL
- Request ID
- Event created at
- Executed at
- Complete webhook data (three dot menu on the right > Show data)

You can also send a failed webhook again. Go to the three dot menu on the right > Retry.

## Responding to Webhooks

Voucherify expects your webhook to return a response with a `2XX` HTTP status code, indicating that the webhook has been received successfully. If a webhook is not successfully received for any reason, Voucherify will continue trying to send the webhook in the following intervals:

| **Re-try No.** | **Time since the initial attempt** | **Interval to next re-try** |
| :------------- | :--------------------------------- | :-------------------------- |
| 1              | 1 min                              | 1 min                       |
| 2              | 2 min                              | 2 min                       |
| 3              | 4 min                              | 4 min                       |
| 4              | 8 min                              | 8 min                       |
| 5              | 16 min                             | 16 min                      |
| 6              | 32 min                             | 32 min                      |
| 7              | 1 h 4 min                          | 1 h 4 min                   |
| 8              | 2 h 8 min                          | 2 h 8 min                   |
| 9              | 4 h 16 min                         | 4 h 16 min                  |
| 10             | 8 h 32 min                         | 8 h 32 min                  |
| 11             | 17 h 4 min                         | 17 h 4 min                  |
| 12             | 24 h                               | Final re-try                |

> â—ï¸ Latency
>
> Your endpoint must return a response in under 10 seconds; otherwise, it will be considered an error.

> ðŸ“˜ What happens after the 12th try?
>
>  - Project-level webhooks that are set in Project Settings are disabled after 12 unsuccessful tries.
> - Distribution-based webhooks that are set up as channels in the Distributions manager are paused after 12 unsuccessful tries.

## Re-Enabling a Webhook


### Project-Level Webhook

To re-enable a disabled webhook:
1. In the Project Settings, go to the General tab.
2. Scroll down to the Webhooks section.
3. Edit the specific Webhook.
4. Click Is active.
5. Click Update endpoint.


### Distribution-Based Webhook

To re-enable a paused webhook:
1. Go to the Distribution Manager.
2. Click the distribution that has been paused.
3. Click the set live icon in the upper right corner.

## Authentication

Once your server is configured to receive payloads, it will listen for any payload sent to the endpoint you configured. For security reasons, you may want to limit requests to those coming from Voucherify. To do so, you should copy a secret token and validate the information.

You can generate a secret key in the Project Settings in the Webhooks section.

Each webhook sent from Voucherify contains the `x-voucherify-signature` of the webhook in the header field.

Then, you can validate the signature by reconstructing it and comparing it to the one sent in the webhook header field.

Reconstruct it using the keyed-hash message authentication code HMAC. It is built with the cryptographic hash function **sha256** and the secret cryptographic key taken from the Project settings.

See the following examples for Java and the `verifySignature` method in the [NodeJS SDK](https://github.com/voucherifyio/voucherify-nodejs-sdk/blob/c63f738c5a53ecb9a5006a04d80d612ee70bdeae/src/utils.js#L102).

```java Java
import java.security.InvalidKeyException;
import java.security.NoSuchAlgorithmException;
import javax.crypto.Mac;
import javax.crypto.spec.SecretKeySpec;
import java.nio.charset.StandardCharsets;

class HelloWorld {

    public static void main(String[] args)  throws InvalidKeyException, NoSuchAlgorithmException {
        byte[] secretKey = "secretKey".getBytes(StandardCharsets.UTF_8);

        // when payload is JSON object - whitespaces must be removed
        String signature1 = "a17d2ac229d1ebbb5f10e839c7985c4818e5986eab297f7e5979196d4d7d3ed2";
        System.out.println(verifySignature(removeWhitespaces("{\n  \"a\": 1\n}"), signature1, secretKey));
        System.out.println(verifySignature(removeWhitespaces("{\"a\":1}"), signature1, secretKey));

        String signature2 = "f7cf97814a03146abedb9793f56e1dec34f618f82d10395310d053f749483ffb";
        System.out.println(verifySignature(removeWhitespaces("{\n  \"a\\\"b\": 1\n}"), signature2, secretKey));

        // when payload is directly a String
        String signature3 = "53ff92957e1427ce23ad5bda9d0c5f2f4ff384d0806b83eeacb510c842d3a358";
        System.out.println(verifySignature("  message  ", signature3, secretKey));
    }
    
    public static String removeWhitespaces(String json) {
        boolean quoted = false;
        boolean escaped = false;
        String out = "";
    
        for (Character c : json.toCharArray()) {
            if (escaped) {
                out += c;
                escaped = false;
                continue;
            }
    
            if (c == '"') {
                quoted = !quoted;
            } else if (c == '\\') {
                escaped = true;
            }
    
            if (Character.isWhitespace(c) &! quoted) {
                continue;
            }
    
            out += c;
        }

        return out;
    }
    
    public static boolean verifySignature(String payload, String signature, byte[] secretKey) throws InvalidKeyException, NoSuchAlgorithmException {
        Mac mac = Mac.getInstance("HmacSHA256");
        mac.init(new SecretKeySpec(secretKey, "HmacSHA256"));
        byte[] hash = mac.doFinal(payload.getBytes(StandardCharsets.UTF_8));
        String generatedSignature = bytesToHex(hash);
        return generatedSignature.equals(signature);
    }
    
    private static String bytesToHex(byte[] bytes) {
        StringBuilder sb = new StringBuilder(bytes.length * 2);
        for (byte b : bytes) {
            sb.append(String.format("%02x", b));
        }
        return sb.toString();
    }

}
```
```javascript NodeJS
const crypto = require('crypto') 
verifySignature: function (signature, message, secretKey) {
  return crypto.createHmac('sha256', secretKey)
    .update(isString(message) && message || JSON.stringify(message))
    .digest('hex') === signature
}
```

## IP Whitelisting

When Voucherify sends a webhook, the Voucherify servers make network requests to tenantsâ€™ or third partiesâ€™ servers.

To add an additional layer of security, you can do IP whitelisting. This mechanism verifies if webhook requests come from Voucherify.

Voucherify sends webhooks from the IP ranges below.

| **Instance** | **IP**                                                       |
| :----------- | :----------------------------------------------------------- |
| eu1          | 34.247.197.22<br>63.32.191.141 (new)<br>52.215.148.84 (new)  |
| us1          | 100.25.106.67<br>18.209.236.215 (new)<br>34.192.255.99 (new) |
| as1          | 52.76.98.82<br>54.169.8.101 (new)<br>13.214.87.160 (new)     |

> ðŸš§ New Addresses
>
> The new addresses are not live yet. The actual traffic will begin on 18th October.

## Webhooks Available in Project Settings

These webhooks are triggered by the events listed in the Project settings.

The following events can send a webhook:
- Redemption events:
  - [Redemption succeeded](ref:events-redemption-succeeded "Redemption succeeded event documentation")
  - [Redemption failed](ref:events-redemption-failed "Redemption failed event documentation")
  - [Redemption rollback succeeded](ref:events-redemption-rollback-succeeded "Redemption rollback succeeded event documentation")
  - [Redemption rollback failed](ref:events-redemption-rollback-failed "Redemption rollback failed event documentation")
- Publication event:
  - [Publication succeeded](ref:events-publication-succeeded "Publication succeeded event documentation")
- Customer events:
  - [Customer created](ref:events-customer-created "Customer created event documentation")
  - [Customer deleted](ref:events-customer-deleted "Customer deleted event documentation")
  - [Customer rewarded](ref:events-customer-rewarded-main "Customer rewarded event documentation")
  - [Customer rewarded loyalty points](ref:events-customer-rewarded-loyalty_points "Customer rewarded loyalty points event documentation")
- Voucher events:
  - [Voucher created](ref:events-voucher-created "Voucher created event documentation")
  - [Voucher disabled](ref:events-voucher-disabled "Voucher disabled event documentation")
  - [Voucher enabled](ref:events-voucher-enabled "Voucher enabled event documentation")
  - [Voucher updated](ref:events-voucher-updated "Voucher updated event documentation")
  - [Voucher published](ref:events-voucher-published "Voucher published event documentation")
  - [Voucher loyalty card points added](ref:events-voucher-loyalty_card-points_added "Voucher loyalty card points added event documentation")
  - [Voucher loyalty card points expired](ref:events-voucher-loyalty_card-points_expired "Voucher loyalty card points expired event documentation")
  - [Voucher loyalty card transaction created](ref:events-voucher-loyalty_card-transaction-created "Voucher loyalty card transaction created event documentation")
  - [Voucher gift transaction created](ref:events-voucher-gift-transaction-created "Voucher gift transaction created event documentation")
  - [Voucher gift balance added](ref:events-voucher-gift-balance_added "Voucher gift balance added event documentation")
  - [Voucher deleted](ref:events-voucher-deleted "Voucher deleted event documentation")
- Campaign events:
  - [Campaign created](ref:events-campaign-created "Campaign created event documentation")
  - [Campaign voucher generation completed](ref:events-campaign-vouchers-generation-completed "Campaign voucher generation completed event documentation")
  - [Campaign disabled](ref:events-campaign-disabled "Campaign disabled event documentation")
  - [Campaign enabled](ref:events-campaign-enabled "Campaign enabled event documentation")
  - [Campaign updated](ref:events-campaign-updated "Campaign updated event documentation")
  - [Campaign deleted](ref:events-campaign-deleted "Campaign deleted event documentation")
- Promotion tier events:
  - [Promotion tier created](ref:events-campaign-promotion_tier-created "Promotion tier created event documentation") 
  - [Promotion tier disabled](ref:events-campaign-promotion_tier-disabled "Promotion tier disabled event documentation") 
  - [Promotion tier enabled](ref:events-campaign-promotion_tier-enabled "Promotion tier enabled event documentation") 
  - [Promotion tier updated](ref:events-campaign-promotion_tier-updated "Promotion tier updated event documentation")      
  - [Promotion tier deleted](ref:events-campaign-promotion_tier-deleted "Promotion tier deleted event documentation")
- Business validation rule events:
  - [Business validation rule created](ref:events-bus_val_rule-created "Validation rule created event documentation")
  - [Business validation rule updated](ref:events-bus_val_rule-updated "Validation rule updated event documentation")
  - [Business validation rule assignment created](ref:events-bus_val_rule-assignment-created "Validation rule assignment created event documentation")
  - [Business validation rule assignment deleted](ref:events-bus_val_rule-assignment-deleted "Validation rule assignment deleted event documentation")
  - [Business validation rule deleted](ref:events-bus_val_rule-deleted "Validation rule deleted event documentation")

### Project Setting Webhook Payload

| Attributes              | Description                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| :---------------------- | :----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| id</br>`string`         | <p>Unique identifier of the sendout for this webhook.</p> **Example:** <p>whs_0e16e42bc6e0c65b57</p>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| project_id</br>`string` | <p>Unique identifier of the Voucherify project.</p> **Example:** <p>proj_5T4Rpl4T1nuM</p>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| created_at</br>`string` | <p>The exact moment when the webhook was created.</p> **Example:** <p>2024-01-01T11:11:11.111Z</p>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| type</br>`string`       | <p>Name of the event that triggerered the webhook sendout.</p> Available values: `business_validation_rule.assignment.created`, `business_validation_rule.assignment.deleted`, `business_validation_rule.created`, `business_validation_rule.deleted`, `business_validation_rule.updated`, `campaign.created`, `campaign.deleted`, `campaign.disabled`, `campaign.enabled`, `campaign.updated`, `campaign.promotion_tier.created`, `campaign.promotion_tier.deleted`, `campaign.promotion_tier.disabled`, `campaign.promotion_tier.enabled`, `campaign.promotion_tier.updated`, `campaign.vouchers.generation.completed`, `customer.created`, `customer.deleted`, `customer.rewarded`, `customer.rewarded.loyalty_points`, `publication.succeeded`, `redemption.failed`, `redemption.rollback.failed`, `redemption.rollback.succeeded`, `redemption.succeeded`, `voucher.created`, `voucher.deleted`, `voucher.disabled`, `voucher.enabled`, `voucher.gift.balance_added`, `voucher.gift.transaction.created`, `voucher.loyalty_card.points_added`, `voucher.loyalty_card.points_expired`, `voucher.loyalty_card.transaction.created`, `voucher.published`, `voucher.updated`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| data</br>`object`       | <p>Payload depends on the event that triggered the webhook sendout. Project settings cover the following events:</p><ul><li><a href="ref:events-bus_val_rule-assignment-created"><code>business_validation_rule.assignment.created</code></a></li><li><a href="ref:events-bus_val_rule-assignment-deleted"><code>business_validation_rule.assignment.deleted</code></a></li><li><a href="ref:events-bus_val_rule-created"><code>business_validation_rule.created</code></a></li><li><a href="ref:events-bus_val_rule-deleted"><code>business_validation_rule.deleted</code></a></li><li><a href="ref:events-bus_val_rule-updated"><code>business_validation_rule.updated</code></a></li><li><a href="ref:events-campaign-created"><code>campaign.created</code></a></li><li><a href="ref:events-campaign-deleted"><code>campaign.deleted</code></a></li><li><a href="ref:events-campaign-disabled"><code>campaign.disabled</code></a></li><li><a href="ref:events-campaign-enabled"><code>campaign.enabled</code></a></li><li><a href="ref:events-campaign-updated"><code>campaign.updated</code></a></li><li><a href="ref:events-campaign-vouchers-generation-completed"><code>campaign.vouchers.generation.completed</code></a></li><li><a href="ref:events-campaign-promotion_tier-created"><code>campaign.promotion_tier.created</code></a><li><a href="ref:events-campaign-promotion_tier-deleted"><code>campaign.promotion_tier.deleted</code></a></li></li><li><a href="ref:events-campaign-promotion_tier-disabled"><code>campaign.promotion_tier.disabled</code></a></li><li><a href="ref:events-campaign-promotion_tier-enabled"><code>campaign.promotion_tier.enabled</code></a></li><li><a href="ref:events-campaign-promotion_tier-updated"><code>campaign.promotion_tier.updated</code></a></li><li><a href="ref:events-customer-created"><code>customer.created</code></a></li><li><a href="ref:events-customer-deleted"><code>customer.deleted</code></a></li><li><a href="ref:events-customer-rewarded-main"><code>customer.rewarded</code></a></li><li><a href="ref:events-customer-rewarded-loyalty_points"><code>customer.rewarded.loyalty_points</code></a></li><li><a href="ref:events-publication-succeeded"><code>publication.succeeded</code></a></li><li><a href="ref:events-redemption-failed"><code>redemption.failed</code></a></li><li><a href="ref:events-redemption-rollback-failed"><code>redemption.rollback.failed</code></a></li><li><a href="ref:events-redemption-rollback-succeeded"><code>redemption.rollback.succeeded</code></a></li><li><a href="ref:events-redemption-succeeded"><code>redemption.succeeded</code></a></li><li><a href="ref:events-voucher-created"><code>voucher.created</code></a></li><li><a href="ref:events-voucher-deleted"><code>voucher.deleted</code></a></li><li><a href="ref:events-voucher-disabled"><code>voucher.disabled</code></a></li><li><a href="ref:events-voucher-enabled"><code>voucher.enabled</code></a></li><li><a href="ref:events-voucher-gift-balance_added"><code>voucher.gift.balance_added</code></a></li><li><a href="ref:events-voucher-gift-transaction.created"><code>voucher.gift.transaction.created</code></a></li><li><a href="ref:events-voucher-loyalty_card-points_added"><code>voucher.loyalty_card.points_added</code></a></li><li><a href="ref:events-voucher-loyalty_card-points_expired"><code>voucher.loyalty_card.points_expired</code></a></li><li><a href="ref:events-voucher-loyalty_card-transaction-created"><code>voucher.loyalty_card.transaction.created</code></a></li><li><a href="ref:events-voucher-published"><code>voucher.published</code></a></li><li><a href="ref:events-voucher-updated"><code>voucher.updated</code></a></li></ul> |
| source</br>`object`     | <p>Contains details about the source of the webhook sendout.</p> <table><thead><tr><th style="text-align:left">Attributes</th><th style="text-align:left">Description</th></tr></thead><tbody><tr><td style="text-align:left">id</br><code>string</code></td><td style="text-align:left"><p>ID number of the webhook.</p> <strong>Example:</strong> <p>wh_j56Vfy47Vx9YOX7QYD1fzHnc</p></td></tr><tr><td style="text-align:left">object</br><code>string</code></td><td style="text-align:left"><p>Determines the type of the object.</p> Available values: <code>webhook</code> <strong>Example:</strong> <p>webhook</p></td></tr><tr><td style="text-align:left">target_url</br><code>string</code></td><td style="text-align:left"><p>The address where the webhook will be sent.</p></td></tr></tbody></table>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| event</br>`object`      | <p>Contains other data of the event that triggered the sendout.</p> <table><thead><tr><th style="text-align:left">Attributes</th><th style="text-align:left">Description</th></tr></thead><tbody><tr><td style="text-align:left">id</br><code>string</code></td><td style="text-align:left"><p>Unique identifier of the event that triggered the sendout.</p> <strong>Example:</strong> <p>evred_1f3611301g3127begb</p></td></tr><tr><td style="text-align:left">type</br><code>string</code></td><td style="text-align:left"><p>Determines the type of the event.</p> <strong>Example:</strong> <p>redemption.succeeded</p></td></tr><tr><td style="text-align:left">created_at</br><code>string</code></td><td style="text-align:left"><p>The exact moment when the event was created.</p> <strong>Example:</strong> <p>2024-01-01T11:11:11.111Z</p></td></tr><tr><td style="text-align:left">entity_id</br><code>string</code></td><td style="text-align:left"><p>Unique identifier of the entity that triggered the sendout.</p> <strong>Example:</strong> <p>r_1f3611302bf107befb</p></td></tr><tr><td style="text-align:left">group_id</br><code>string</code></td><td style="text-align:left"><p>Unique identifier of the request that triggered the event.</p> <strong>Example:</strong> <p>v-1f36113948e50fc4ge</p></td></tr><tr><td style="text-align:left">event_source</br><code>object</code></td><td style="text-align:left"><p>Contains the source of the object that triggered the sendout.</p> <table><thead><tr><th style="text-align:left">Attributes</th><th style="text-align:left">Description</th></tr></thead><tbody><tr><td style="text-align:left">channel</br><code>string</code></td><td style="text-align:left"><p>Determines the channel that triggered the sendout.</p> Available values: <code>USER_PORTAL</code>, <code>API</code>, <code>CLIENT_API</code>, <code>INTERNAL</code></br> <strong>Example:</strong> <p>API</p></td></tr><tr><td style="text-align:left">user</br><code>string</code></td><td style="text-align:left"><p>Defines the user who triggered the event.</p></td></tr><tr><td style="text-align:left">api_key</br><code>object</code></td><td style="text-align:left"><p>Determines the API key used to initiate the sendout.</p> <table><thead><tr><th style="text-align:left">Attributes</th><th style="text-align:left">Description</th></tr></thead><tbody><tr><td style="text-align:left">name</br><code>string</code></td><td style="text-align:left"><p>Channel name in the application keys.</p></td></tr><tr><td style="text-align:left">app_id</br><code>string</code></td><td style="text-align:left"><p>Contains the application ID from the Voucherify API key pair.</p> <strong>Example:</strong> <p>1XXXX5XX-0XXX-XXXb-X7XX-XX2XXaXXX6XX</p></td></tr></tbody></table></td></tr></tbody></table></td></tr></tbody></table>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |

## Webhooks Available in Distributions

These webhooks are triggered by the events which cause distribution.

Some distribution events, e.g. Customer entered segment, have different purposes:
- Notify customers about promotion
- Send and publish unique codes from campaign
- Send plain message to customers

> ðŸ“˜ Distribution Webhooks
>
> Learn more about configuring distribution webhooks from the [Webhook distributions article](https://support.voucherify.io/article/68-webhooks-notifications).

The documentation of these events contains data for all purposes. The objects which are shared between the purposes are marked as `required`. The objects which appear only for specific purposes are respectively described.

- Segment related activities:
  - [Customer entered segment](ref:events-customer-segment-entered "Customer entered segment event documentation")
  - [Customer left segment](ref:events-customer-segment-left "Customer left segment event documentation")
- Manual messages:
  - Notify customers about promotion â€“ covered by [the MANUAL_DISTRIBUTION_SCHEDULE event](ref:events-distribution-manual_distribution_schedule "Manual distribution schedule event documentation")
  - Send and publish unique codes from a campaign â€“ covered by [the MANUAL_DISTRIBUTION_SCHEDULE event](ref:events-distribution-manual_distribution_schedule "Manual distribution schedule event documentation")
  - Send plain message to customers â€“ does not support webhooks as a distribution channel
- Cart related activities:
  - [Order update](ref:events-customer-order-updated "Order updated event documentation")
  - [Order has been paid](ref:events-customer-order-paid "Order paid event documentation")
  - [Order creation](ref:events-customer-order-created "Order created event documentation")
  - [Order canceled](ref:events-customer-order-canceled "Order canceled event documentation")
- All campaigns with codes:
  - [Successfully published](ref:events-customer-publication-succeeded "Code published event documentation")
- Voucher related activities:
  - [Gift credits added](ref:events-customer-voucher-gift-balance_added "Gift credits added event documentation")
  - [Loyalty points added](ref:events-customer-voucher-loyalty_card-points_added "Loyalty points added event documentation")
  - [Voucher redeemed](ref:events-customer-redemption-succeeded "Voucher redeemed event documentation")
  - [Voucher redemption rolled back](ref:events-customer-redemption-rollback-succeeded "Voucher redemption rolled back event documentation")
  - [Customer loyalty card points expired](ref:events-customer-voucher-loyalty_card-points_expired "Customer loyalty card points expired event documentation")
- Customer related activities:
  - [Custom event](ref:events-customer-custom_event "Customer custom event event documentation")
- Loyalty tier related activities:
  - [Customer entered loyalty tier structure](ref:events-customer-loyalty-tier-joined "Customer entered loyalty tier structure event documentation")
  - [Customer exited loyalty tier structure](ref:events-customer-loyalty-tier-left "Customer exited loyalty tier structure event documentation")
  - [Customer loyalty tier upgraded](ref:events-customer-loyalty-tier-upgraded "Customer loyalty tier upgraded event documentation")
  - [Customer loyalty tier downgraded](ref:events-customer-loyalty-tier-downgraded "Customer loyalty tier downgraded event documentation")
  - [Customer loyalty tier prolonged](ref:events-customer-loyalty-tier-prolonged "Customer loyalty tier prolonged event documentation")

### Campaign Distributions â€“ Notifications

The following campaigns can also trigger webhook sendouts as a distribution:
- Loyalty campaigns:
  - [Send loyalty program code](ref:events-customer-publication-succeeded)
  - [Loyalty points gained](ref:events-customer-rewarded-loyalty_points)
  - [Reward redeemed](ref:events-customer-reward_redemptions-completed)
- Referral campaigns:
  - [Send referral code to the referrer](ref:events-customer-publication-succeeded)
  - Customer referred (documentation in progress)

### Distribution Webhook Payload
| Attributes              | Description                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| :---------------------- | :--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| id</br>`string`         | <p>Unique identifier of the sendout for this webhook.</p> **Example:** <p>whs_0e16e42bc6e0c65b57</p>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| project_id</br>`string` | <p>Unique identifier of the Voucherify project.</p> **Example:** <p>proj_5T4Rpl4T1nuM</p>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| created_at</br>`string` | <p>The exact moment when the webhook was created.</p> **Example:** <p>2024-01-01T11:11:11.111Z</p>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| type</br>`string`       | <p>Displays the name entered in the <code>Event name</code> field in the distribution creator.</p>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| data</br>`object`       | <p>Payload depends on the event that triggered the webhook sendout. Distributions cover the following events:</p><ul><li><a href="ref:events-customer-custom_event"><code>customer.custom_event</code></a></li><li><a href="ref:events-customer-loyalty-tier-downgraded"><code>customer.loyalty.tier.downgraded</code></a></li><li><a href="ref:events-customer-loyalty-tier-joined"><code>customer.loyalty.tier.joined</code></a></li><li><a href="ref:events-customer-loyalty-tier-left"><code>customer.loyalty.tier.leftd</code></a></li><li><a href="ref:events-customer-loyalty-tier-prolonged"><code>customer.loyalty.tier.prolonged</code></a></li><li><a href="ref:events-customer-loyalty-tier-upgraded"><code>customer.loyalty.tier.upgraded</code></a></li><li><a href="ref:events-customer-publication-succeeded"><code>customer.publication.succeeded</code></a></li><li><a href="ref:events-customer-redemption-rollback-succeeded"><code>customer.redemption.rollback.succeeded</code></a></li><li><a href="ref:events-customer-redemption-succeeded"><code>customer.redemption.succeeded</code></a></li><li><a href="ref:events-customer-order-created"><code>customer.order.created</code></a></li><li><a href="ref:events-customer-order-paid"><code>customer.order.paid</code></a></li><li><a href="ref:events-customer-order-updated"><code>customer.order.updated</code></a></li><li><a href="ref:events-customer-order-canceled"><code>customer.order.canceled</code></a></li><li><a href="ref:events-customer-reward_redemptions-completed"><code>customer.reward_redemptions.completed</code></a></li><li><a href="ref:events-customer-segment-left"><code>customer.segment.left</code></a></li><li><a href="ref:events-customer-voucher-gift-balance_added"><code>customer.voucher.gift.balance_added</code></a></li><li><a href="ref:events-customer-voucher-loyalty_card-points_added"><code>customer.voucher.loyalty_card.points_added</code></a></li><li><a href="ref:events-customer-voucher-loyalty_card-points_expired"><code>customer.voucher.loyalty_card.points_expired</code></a></li><li><a href="ref:events-distribution-manual_distribution_schedule"><code>manual_distribution_schedule</code></a></li></ul>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| source</br>`object`     | <p>Contains details about the source of the webhook sendout.</p> <table><thead><tr><th style="text-align:left">Attributes</th><th style="text-align:left">Description</th></tr></thead><tbody><tr><td style="text-align:left">id</br><code>string</code></td><td style="text-align:left"><p>Unique identifier of the distribution that sent the webhook.</p> <strong>Example:</strong> <p>distr_TrJj0lHV44EMt6HvLa2pyNlHTF</p></td></tr><tr><td style="text-align:left">object</br><code>string</code></td><td style="text-align:left"><p>Determines the type of the object.</p> Available values: <code>distribution</code></br> <strong>Example:</strong> <p>distribution</p></td></tr><tr><td style="text-align:left">target_url</br><code>string</code></td><td style="text-align:left"><p>The address where the webhook is be sent.</p></td></tr></tbody></table>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| event</br>`object`      | <p>Contains other data of the event that triggered the sendout.</p> <table><thead><tr><th style="text-align:left">Attributes</th><th style="text-align:left">Description</th></tr></thead><tbody><tr><td style="text-align:left">id</br><code>string</code></td><td style="text-align:left"><p>Unique identifier of the event that triggered the sendout.</p> <strong>Example:</strong> <p>evred_1f3611301g3127begb</p></td></tr><tr><td style="text-align:left">type</br><code>string</code></td><td style="text-align:left"><p>Determines the type of the event.</p> <strong>Example:</strong> <p><code>customer.custom_event</code></p><p><code>customer.entered.segment</code></p><p><code>customer.loyalty.tier.downgraded</code></p><p><code>customer.loyalty.tier.joined</code></p><p><code>customer.loyalty.tier.left</code></p><p><code>customer.loyalty.tier.prolonged</code></p><p><code>customer.loyalty.tier.upgraded</code></p><p><code>customer.order.canceled</code></p><p><code>customer.order.created</code></p><p><code>customer.order.paid</code></p><p><code>customer.order.updated</code></p><p><code>customer.publication.succeeded</code></p><p><code>customer.redemption.rollback.succeeded</code></p><p><code>customer.redemption.succeeded</code></p><p><code>customer.reward_redemptions.completed</code></p><p><code>customer.segment.entered</code></p><p><code>customer.segment.left</code></p><p><code>customer.voucher.gift.balance_added</code></p><p><code>customer.voucher.loyalty_card.points_added</code></p><p><code>customer.voucher.loyalty_card.points_expired</code></p><p><code>manual_distribution_schedule</code></p></td></tr><tr><td style="text-align:left">created_at</br><code>string</code></td><td style="text-align:left"><p>The exact moment when the event was created.</p> <strong>Example:</strong> <p>2024-01-01T11:11:11.111Z</p></td></tr><tr><td style="text-align:left">entity_id</br><code>string</code></td><td style="text-align:left"><p>Unique identifier of the entity that triggered the sendout.</p> <strong>Example:</strong> <p>r_1f3611302bf107befb</p></td></tr><tr><td style="text-align:left">group_id</br><code>string</code></td><td style="text-align:left"><p>Unique identifier of the request that triggered the event.</p> <strong>Example:</strong> <p>v-1f36113948e50fc4ge</p></td></tr><tr><td style="text-align:left">event_source</br><code>object</code></td><td style="text-align:left"><p>Contains the source of the object that triggered the sendout.</p> <table><thead><tr><th style="text-align:left">Attributes</th><th style="text-align:left">Description</th></tr></thead><tbody><tr><td style="text-align:left">channel</br><code>string</code></td><td style="text-align:left"><p>Determines the channel that triggered the sendout.</p> Available values: <code>USER_PORTAL</code>, <code>API</code>, <code>CLIENT_API</code>, <code>INTERNAL</code></br> <strong>Example:</strong> <p>API</p></td></tr><tr><td style="text-align:left">user</br><code>string</code></td><td style="text-align:left"><p>Defines the user who triggered the event.</p></td></tr><tr><td style="text-align:left">api_key</br><code>object</code></td><td style="text-align:left"><p>Determines the API key used to initiate the sendout.</p> <table><thead><tr><th style="text-align:left">Attributes</th><th style="text-align:left">Description</th></tr></thead><tbody><tr><td style="text-align:left">name</br><code>string</code></td><td style="text-align:left"><p>Channel name in the application keys.</p></td></tr><tr><td style="text-align:left">app_id</br><code>string</code></td><td style="text-align:left"><p>Contains the application ID from the Voucherify API key pair.</p> <strong>Example:</strong> <p>1XXXX5XX-0XXX-XXXb-X7XX-XX2XXaXXX6XX</p></td></tr></tbody></table></td></tr></tbody></table></td></tr></tbody></table> |


