<p align="center" >
    <img src="https://vf-asset.s3-eu-west-1.amazonaws.com/voucherify-js-sdk/logo.png" />
</p>

<h3 align="center">Official <a href="https://www.voucherify.io">Voucherify</a> JS SDK</h3>

<p>
    <a href="#"><img src="https://img.shields.io/npm/v/@voucherify/sdk?label=SDK" alt="SDK NPM Version"/></a>
    <a href="#"><img src="https://img.shields.io/npm/dm/@voucherify/sdk?label=SDK%20downloads" alt="SDK NPM Downloads"/></a>
</p>
<hr/>

## üëã Intro

Voucherify is an Incentive Optimization Engine that helps digital teams launch, test, and optimize targeted incentives ‚Äì from coupons and promotions to loyalty programs and personalized offers ‚Äì all with API.

We build Voucherify so you can run fewer incentives, but better ones.

**Launch fast.**

**Test every day.**

**Drop what doesn‚Äôt work.**

**And optimize what does.**

Integrate easily with your existing stack to make experimentation and optimization effortless.

## üìù Useful info

This SDK is automatically generated by the [OpenAPI Generator](https://openapi-generator.tech) based on Voucherify [API reference](https://docs.voucherify.io/api-reference/introduction-api), `v2018-08-01` version.

If needed, visit the [legacy JS SDK](https://github.com/voucherifyio/voucherify-js-sdk/tree/%40voucherify/sdk%402.9.4 "Legacy JS SDK, version 2.9.4")

For more info, visit those places:
- ‚úÖ [Supported endpoints](./ENDPOINTS-COVERAGE.md).
- üìò [API docs](https://docs.voucherify.io/api-reference/introduction-api "Voucherify API documentation").
- üßë‚Äçüç≥ [Promotion cookbook](https://www.voucherify.io/promotion-examples "Explore promotion examples").
- üí¨ [Help center](https://support.voucherify.io "Voucherify dashboard documentation").
- üêõ Caught a bug? [Add an issue](https://github.com/voucherifyio/voucherify-js-sdk/issues "Visit issues in Voucherify JS SDK")!
- üßë‚Äçüíª Need help? [Contact support](https://www.voucherify.io/contact-support "Visit contact support page").

## üîÑ JS SDK versions: v2 and v3

The v2 and v3 JS SDK version differ in:

- **Language and generation:**
    - v2: hand-written in TypeScript.
    - v3: auto-generated from the OpenAPI definition and written in JavaScript.
- **Types:**
    - v2: built-in TypeScript types.
    - v3: **Includes built-in TypeScript definitions (starting from v3.0.1).** Although written in JS, the SDK now ships with type declarations generated from JSDoc. Each generated model/class also exposes a `validateJSON` method to verify data shape/types at runtime.
- **Client creation and auth:**
    - v2: different client initialization and API key handling.
    - v3: a new way to configure the API client and provide API keys (see [Get your keys and address](#-get-your-keys-and-address) and [Run code](#-run-code)).
- **API coverage:**
    - v2: limited and historically maintained.
    - v3: supports all non-deprecated endpoints. We strongly recommend using v3.

### üß≠ Quick migration guide

To migrate from v2 to v3:

- **Install:** you can install v3 under an alias to migrate gradually (see [Install](#Ô∏è-install) section).
- **Initialization:** update client creation and key/basePath setup as shown in [Run code](#-run-code).
- **Types:** ensure you are using **v3.0.1 or later** to leverage the included TypeScript definitions automatically. You no longer need to create custom `.d.ts` files. You can still use the models‚Äô `validateJSON` methods for extra runtime validation.
- **Endpoints:** review [ENDPOINTS-COVERAGE.md](./ENDPOINTS-COVERAGE.md) and switch calls to their v3 equivalents. Avoid deprecated endpoints ‚Äî v3 covers active ones only.

## ‚öôÔ∏è Install

Use any of the following methods to install the SDK.

### For [Node.js](https://nodejs.org/)

To install the SDK, run:

```shell
npm install @voucherify/sdk --save
```

If you‚Äôre still using the previous SDK (v2.x.x), you can install the new version under a different alias, for example:

```shell
npm install @voucherify/newsdk@npm:@voucherify/sdk@^3.0.0
```

## üîí Get your keys and address

Get your Voucherify keys for valid authorization and setting the basePath (cluster) to match your server URL:
1. In Voucherify dashboard, go to **Project settings**.
2. In **Application information**, find your basePath (cluster) address. For shared clusters:
   - Europe (default): `https://api.voucherify.io`
   - United States: `https://us1.api.voucherify.io`
   - Asia (Singapore): `https://as1.api.voucherify.io`
3. Scroll down to **Application Keys** to grab your Application ID and Secret key.

## üöÄ Run code

Once installed, run:

```typescript
import * as Voucherify from "@voucherify/sdk";

// Note: dotenv is an external library used for demonstration purposes only. It is not required.
import dotenv from "dotenv";
dotenv.config();

const apiClient = Voucherify.ApiClient.instance;

const HOST = process.env.VOUCHERIFY_HOST || "https://api.voucherify.io";
const X_APP_ID = process.env.X_APP_ID;
const X_APP_TOKEN = process.env.X_APP_TOKEN;

apiClient.basePath = HOST;
apiClient.authentications["X-App-Id"].apiKey = X_APP_ID;
apiClient.authentications["X-App-Token"].apiKey = X_APP_TOKEN;

const api = new Voucherify.CampaignsApi(apiClient);

const options = {
  filters: Voucherify.ParameterFiltersListCampaigns.constructFromObject({
    junction: "and",
    campaign_status:
      Voucherify.ParameterFiltersListCampaignsCampaignStatus.constructFromObject(
        {
          conditions:
            Voucherify.ParameterFiltersListCampaignsCampaignStatusConditions.constructFromObject(
              {
                $in: ["DONE"],
              },
            ),
        },
      ),
  }),
};

const callback = function (
  error: Error | null,
  data?: Voucherify.CampaignsListResponseBody,
  response?: any,
) {
  if (error) {
    console.error(error);
  } else {
    console.log(
      "API called successfully. Returned data: " +
        JSON.stringify(data, null, 2),
    );
  }
};

// Example with callback:
api.listCampaigns(options, callback);

// Example with promise:
api.listCampaigns(options).then((response) => console.log(response));
```

> [!NOTE]
>
> This code just lists campaigns, so it won't affect your Voucherify data.

Once set up, check the following methods to give Voucherify a more interesting spin:
- [Validations](docs/ValidationsApi.md#validateStackedDiscounts)
- [Redemptions](docs/RedemptionsApi.md#redeemStackedDiscounts)
- [Publications](docs/PublicationsApi.md#createPublication)

> [!TIP]
>
> Check the test implementation in the [Test folder](./test/).

## üê≥ Run local tests with docker

To run tests locally with docker:
1. Copy `.env.example` to `.env` and fill in the values.
2. Run `docker build -t js .` to build the image.
3. Run `docker run --rm js` to run the tests and delete the container immediately after.

## üõ†Ô∏è Contribute

Do you want to contribute?

Read more about how to contribute to this SDK in the [Contributing guide](https://github.com/voucherifyio/voucherify-openapi/blob/master/GENERATING-SDKS.md) in the main repo.

This SDK is auto-generated (except for tests), so changes made here will be overwritten by the generator.

## üè∑Ô∏è Link tags

[OpenAPI generated from tag](https://github.com/voucherifyio/voucherify-openapi/releases/tag/sdk-js-3.0.0).

## üîê Authorization

{{^authMethods}}Endpoints do not require authorization.{{/authMethods}}
{{#hasAuthMethods}}Authorization schemes defined for the API.{{/hasAuthMethods}}
{{#authMethods}}
### {{name}}

{{#isApiKey}}

- **Type**: API key
- **API key parameter name**: {{keyParamName}}
- **Location**: {{#isKeyInQuery}}URL query string{{/isKeyInQuery}}{{#isKeyInHeader}}HTTP header{{/isKeyInHeader}}
{{/isApiKey}}
{{#isBasic}}
{{#isBasicBasic}}
- **Type**: HTTP basic authentication
{{/isBasicBasic}}
{{#isBasicBearer}}
- **Type**: Bearer authentication{{#bearerFormat}} ({{{.}}}){{/bearerFormat}}
{{/isBasicBearer}}
{{#isHttpSignature}}
- **Type**: HTTP signature authentication
{{/isHttpSignature}}
{{/isBasic}}
{{#isOAuth}}

- **Type**: OAuth
- **Flow**: {{flow}}
- **Authorization URL**: {{authorizationUrl}}
- **Scopes**: {{^scopes}}N/A{{/scopes}}
{{#scopes}}  - {{scope}}: {{description}}
{{/scopes}}
{{/isOAuth}}

{{/authMethods}}

## üìÖ Changelog

- **2025-11-24** - `3.0.1` - Introduced native TypeScript type definitions generated from JSDoc, enabling automatic type inference and IDE autocompletion.
- **2025-11-05** - `3.0.0` - The new version of the SDK includes coverage for all the most commonly used Voucherify endpoints and supports typed models.

*Previous versions of the SDK are no longer supported. We highly recommend upgrading to version 3.0.0 or newer, as it is now designated as Long-Term Support (LTS).*

*Changelog for previous versions is in the [DEPRECATED_CHANGELOG.md file](./DEPRECATED_CHANGELOG.md)*

## üåê Documentation of API endpoints

All URIs are relative to *https://{cluster}.api.voucherify.io*

Class | Method | HTTP request | Description
------------ | ------------- | ------------- | -------------
{{#apiInfo}}{{#apis}}{{#operations}}{{#operation}}*{{moduleName}}.{{classname}}* | [**{{operationId}}**]({{apiDocPath}}{{classname}}.md#{{operationId}}) | **{{httpMethod}}** {{path}} | {{summary}}
{{/operation}}{{/operations}}{{/apis}}{{/apiInfo}}

## üìö Documentation of models

{{#models}}{{#model}} - [{{moduleName}}.{{classname}}]({{modelDocPath}}{{classname}}.md)
{{/model}}{{/models}}
