---
title: "mParticle"
keywords: ['integration', 'mparticle']
---

mParticle is a customer data platform that allows businesses to collect, unify, and activate data from various sources, such as websites, mobile apps, and third-party tools. Thanks to the API-first approach connecting Voucherify with mParticle is quick and easy.

The integration with mParticle uses [webhook limits](https://docs.voucherify.io/docs/limits#webhooks) for sending data from mParticle to Voucherify. 

The integration updates only the defined customer metadata. The undefined metadata or data that does not match the defined data type is omitted.

## Double-sided configuration

Our platform’s integration with mParticle offers inbound and outbound modes allowing you to receive customer data from mParticle in your Voucherify account. On the other hand, Voucherify can notify mParticle about crucial events such as code validation, redemption, and customers receiving rewards.

The integration enables two-way communication between mParticle and Voucherify. First of all, brands can synchronise customer data by saving mParticle customer attributes through custom events in Voucherify. This way, businesses can store customer information in Voucherify and use it to build complex campaign eligibility and targeting options. Secondly, it is possible to save mParticle audiences as metadata in Voucherify which greatly reduces the manual work needed for granular user segmentation. 

## Outbound integration between mParticle and Voucherify

The outbound integration provides a continuous flow of customer data from mParticle to Voucherify. The data received from mParticle enable you to:

*   Track custom events in Voucherify
*   Create or update customers in Voucherify
*   Group customers

To create an outbound integration between Voucherify and mParticle, login to your mParticle account head to settings and create a new output.

You will be redirected to Directory. At the top of the page inside of the search box type in Voucherify and select it.

Click on setup and decide what kind of integration you would like to have, you can choose between event and audience or select both of them. Depending on your choice you might have up to two configurations to make.

After clicking Configure, you will be asked to provide more details such as URL, Secret Key, and Application ID. 

The URL has to be based on the cluster you are using, there are three options:

*   EU - [https://eu1.mparticle.voucherify.io](https://eu1.mparticle.voucherify.io/)
*   US - [https://us1.mparticle.voucherify.io](https://us1.mparticle.voucherify.io/)
*   AS - [https://as1.mparticle.voucherify.io](https://as1.mparticle.voucherify.io/)

To grab your integration key head to Dashboard > Project Settings. If you do not have any, you can create them straight away. Choose a name and select proper integration from the drop-down list, in this case mParticle.
<Warning>
The integration secret key is visible only for 15 minutes when it is generated for the first time or regenerated. Write your key down and keep it in a safe place.
</Warning>
After passing all the necessary information in your configuration process your outputs should now be visible on your mParticle account. Depending on the integration you chose they can appear in the Event tab or Audience, or both.

While creating an outbound integration with Voucherify, first you have to create a connection. The output will have to be set to Voucherify and the input can be some other platform or application. In my case it is going to be Braze.

In mParticle you can create events that can be used as part of referral based on events or loyalty earning rules based on events. In order to use these events in the above mentioned context, event custom attribute has to be included in what is sent from mParticle:

*   for  the referral program - vf\_referral code, vf\_referral\_referrer\_id
*   for the loyalty program - vf\_loyalty\_code
*   for the event metadata   

The event metadata does not have to be predefined in Voucherify, if it is missing, it is going to be added automatically. 

Note that all metadata sent from mParticle is in string format. For example if you are trying to fill in a number e.g. total\_amount, Voucherify will parse it and as such the initial value of 500 string will be saved as 500 number. Voucherify will try to parse the value to the type defined in the metadata of the event, set up in the [event schema](about://support.voucherify.io/article/111-custom-events#define-new-event). If parsing fails (for example the value is 500A or 500$) then the value will be rejected.

When creating events you can choose what will be the source of your customer’s id. You can do so by going to settings->identity settings. Put them in the order you wish them to be prioritized, should there be a missing ID the next one will be chosen.

## Inbound integration between mParticle and Voucherify

The inbound integration supports the flow of data the other way around – from Voucherify to mParticle. The integration supports the following events to be sent out of the box:

*   Redemption events (successful, failed, rolled back with appropriate status - succeeded or failed)
*   Validation events (succeeded or failed)
*   Customer reward events (reward redemption created, reward redemption completed, customer rewarded main, customer rewarded loyalty points)

To create an inbound integration between Voucherify and mParticle, login to your mParticle account head to settings and create a new input. There will be a choice between platforms and feeds, select feeds. Add feed input from the drop-down list - select Custom Feed (Voucherify will be added to the list shortly).

After selecting the feed you will acquire server key, secret key, and API endpoint URL.

Head to your integrations tab (Dashboard -> Username -> Integrations) in your Voucherify’s dashboard. Look for mParticle, paste your keys, and press connect.

You can also select development mode if you want to test your integration before using it in a production environment.

Information may appear that the process of connection can take up to 5 minutes before becoming active.

Now, Voucherify will know where to send its information – mParticle will also be able to display all the events from Voucherify. 

## Examples

It is time to check if the connection works properly and data are sent between mParticle and Voucherify. First we will try our inbound integration.

I will redeem a voucher in my dashboard and see if any notification appears on my mParticle account. After redeeming the voucher head to your mParticle account and click on Data Master -> Live Stream. There you can keep track of all the actions that have taken place including our redemption that was made seconds ago.

Having the action in your Live Stream you can click on it to see more details.

Seeing that all the information is properly displayed and sent between the two sources we can now test our outbound integration.

Voucherify being integrated with mParticle keeps track of actions mentioned in the outbound integration. For example - what happens if a customer leaves a negative review?

First, as in the previous case, you can see the action appearing in your Live Stream on mParticle account.

You can again click on the action to see more details if you wish.

Next step would be to head to our dashboard in Voucherify and check whether we received the same information and whether a new customer was created or not.

You can click on our newly created customer and head to the Activity tab. There you can see all the actions that have just occurred and check all the details.

Now we are certain that our integration works both ways the way it is intended.