---
title: "Iterable"
keywords: ['integration', 'iterable']
---

Iterable is a cross-channel marketing platform that powers unified customer experiences. It allows you to create complex distribution scenarios targeting your customers with personalized messages.

Voucherify can boost customer experience by adding a voucher with a unique coupon code to each message sent to a customer. This voucher can encourage the customer to make a purchase or distribute referral codes to referrers.

You can use Voucherify’s Publication request as a data feed in Iterable to track customers who received the voucher from you. You can use this action to start the validity period of the voucher or specify that only the voucher holders can use it.

In this article, you will learn how to configure the integration between Voucherify and Iterable.

**The integration with Iterable uses** [API limits](https://docs.voucherify.io/docs/limits#api-limits) **for Data Feed.**

## Configuration

Voucherify offers different API requests that can be integrated with tools that understand REST APIs. Iterable works similarly: you can add the APIs as data feeds and use the feeds in a template. The data feeds must use Voucherify’s API keys for Iterable.

To generate the keys, go to the **Project Settings**. In the **General** tab, scroll down to **Integration Keys** and create a new integration API key for Iterable. In the **Name** field, enter the name for your key. In the drop-down lists, select **User** in **Role** and **Iterable** in **Integration**.
<Warning>
The integration secret key is visible only for 15 minutes when it is generated for the first time or regenerated. Write your key down and keep it in a safe place.
</Warning>

Once the API keys are generated, you can create data feeds in Iterable. Go to your Iterable account and select **Content** > **Data feeds.**

Select the **CREATE NEW FEED** button in the upper right part of the screen to create a new data feed.

The data feed will use Voucherify’s publication mechanisms that assign a voucher to a customer. To add this mechanism to Iterable send-outs, you need to combine:

*   Voucherify’s publication endpoint URL,
*   The application keys,
*   A parameter that identifies the customer in Iterable,
*   The Voucherify campaign that is the source of the vouchers.

To find your API endpoint in Voucherify, go to **Project settings** > **General** tab and scroll down to **Application Information** > **API endpoint**.

The structure of your API endpoint should look as follows:

```
YOUR API ENDPOINT/v1/publications/create
```

Use the table below to find your endpoint for publications.

| Shared Cluster     | Endpoint for Publications                                        |
| ------------------ | ---------------------------------------------------------------- |
| **Europe (default)** | `https://api.voucherify.io/v1/publications/create`              |
| **United States**  | `https://us1.api.voucherify.io/v1/publications/create`            |
| **Asia (Singapore)** | `https://as1.api.voucherify.io/v1/publications/create`          |

The API URL must contain not only the customer’s ID as a parameter but also the name of the campaign. In this section, you will see how to receive a voucher from the Welcome Codes campaign.

Here is an example of a URL:

```
https://api.voucherify.io/v1/publications/create?customer[source_id]={{#urlEncode}}{{source_id}}{{/urlEncode}}&campaign[name]=Welcome Codes
```

Each data feed has to be connected to a separate campaign.

You need to input the data accordingly.

Once the data feed is saved, you can use it in the templates.

### Cache data feed response

Select this option if your data feed returns the **same result for all recipients**. For example, a feed that provides the current list of active promotions.

When enabled, Iterable **caches the feed’s response for one hour**.

*   If the same feed URL is requested again within that hour, Iterable uses the cached response.
*   If not, Iterable sends a new request to the feed.

Iterable builds the feed URL for each recipient by inserting profile data into the predefined URL.

If you **clear the checkbox**, Iterable makes a **new request for every recipient**, even if the response is the same.

## Iterable templates with a data feed

When adding your Voucherify code variable to an Iterable message template, you can reference it directly from the connected data feed.

If your setup involves **a single Voucherify campaign** connected to a single Iterable data feed (the most common and recommended scenario), use:

```
[[voucher.code]] 
```

This variable will automatically populate with each recipient’s unique code published from Voucherify.

<Note>
Use your exclusive code **\[\[voucher.code\]\]** to get 10% off your next order!
</Note>

If you are using **multiple Voucherify campaigns or data feeds** within the same Iterable project, each feed must have a unique alias.

In that case, you can reference the code with its alias prefix, such as:

```
[[welcome_codes.voucher.code]] 
```

Make sure the alias (`welcome_codes` in this example) matches the one defined in your Iterable data feed settings.
<Info>
This advanced use case is only needed when several Voucherify campaigns feed data into the same Iterable project. For most users, `[[voucher.code]]` is sufficient.
</Info>

The data feed will trigger the API request every time you send a message to a customer. You can show the end result in the message by providing the voucher code from the data feed. Since the goal is to show the voucher code to the customer and the alias is defined, add the following value to the message:

```
[[voucher.code]]
```

The API requests return the complete definition of the coupon code, so if you have added any kind of information to the [metadata](https://support.voucherify.io/article/99-schema-validation-metadata), it can also be shown in the same way: 

```
[[voucher.code.voucher.metadata.marketing_text]]
```

As a result, the data feed will contain the information about the voucher, which has been assigned to the customer, including the voucher code and the marketing text.