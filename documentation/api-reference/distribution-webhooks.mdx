---
title: "Distribution webhooks"
description: "Distribution-based webhooks in Voucherify let your application automatically receive notifications related to distribution events. They help you track the results of distributions and quickly respond when certain actions occur. For example, your application can be notified when a voucher is successfully published, a scheduled campaign message is delivered, or when a customer enters or leaves a specific customer segment."
---

## Configuring Distribution webhooks

1. In Voucherify dashboard, go to Distributions in the Engagement section.
2. Click Create distribution.
3. Select the appropriate [trigger](#webhooks-available-in-distributions "Distribution webhooks") that creates a sendout.
4. In Action, define what kind of distribution action you want to create.
5. In Channels, add Webhook. You can add many channels within one distribution.
6. In the webhook channel, provide the event name, URL, and any optional HTTP headers.
7. Select the attributes to add them to the webhook payload. Optionally, map the attributes to your own keys.

To edit, pause, activate, or delete a distribution, click the three dots icon located on the far right of each row in the Distributions list view.

**You can also add distribution webhooks while creating a loyalty or referral programs. The process follows similar pattern.**

## Payload designer

In the default mapping mode, Voucherify sends the full webhook payload without any mapping to other keys. Click Custom to use the payload designer and create webhook payloads in the JSON format.

The Payload designer is empty at the start. You can paste any existing payload or write it from scratch. Each key in the payload can have a value that is static, dynamic, or nested:
* Static values are fixed values you define, such as text, numbers, or boolean.
* Dynamic values come from Voucherify keys in the webhook payload. Use double curly braces `{{}}` to search for Voucherify keys. You can also mix static and dynamic values, for example `"Hello {{customer.name}}"`.
* Nested objects can be created with dots in the key name, such as `{{order.status}}`.

**If you want a value to be a string, wrap it in quotes `("")`. When the type of a value is unknown, also wrap it in quotes `("")` to ensure it is treated as a string.**

> 📘 Available Voucherify webhook keys
>
> The available keys supported by Voucherify are limited to a given distribution event that is used in the webhook. For example, if you create a webhook payload for the [Customer entered segment](/api-reference/customer/segment-entered), you can use all the keys available in that event, like `customer.name` or `segment.name`. However, you can't use objects that aren't available in that webhook, like `redemption.date`.
> 
> Read [Webhooks available in Distributions](#webhooks-available-in-distributions) to learn which webhooks are available. Go to specific webhook pages to learn more about their payloads.

### Example: Customer summary with dynamic values

This payload builds a customer summary. All values are taken dynamically from the webhook.

```json
{
  "customer_profile": {
    "ID": "{{customer.id}}",
    "name": "{{customer.name}}",
    "email": "{{customer.email}}"
  }
}
```

### Example: Order confirmation with mixed values

This payload mixes static and dynamic values. The currency is fixed, while the order details and greeting come from Voucherify.

```json
{
  "order": {
    "orderId": "{{order.id}}",
    "total": {{order.total_amount}},
    "currency": "USD",
    "message": "Thank you for your order, {{customer.name}}!"
  }
}
```

## Re-enabling a webhook

To re-enable a paused webhook:

1. Go to the Distribution Manager.
2. Click the distribution that has been paused.
3. Click the set live icon in the upper right corner.

## Webhooks available in Distributions

These webhooks are triggered by the events which cause distribution.

Some distribution events, for example Customer entered segment, have different purposes:

* Notify customers about promotion
* Send and publish unique codes from campaign
* Send plain message to customers

The table below shows which distributions support webhooks:

| Related Activity              | Event                                   | Notify customers about promotion | Send and publish unique codes from campaign | Send plain message to customers |
| ----------------------------- | --------------------------------------- | -------------------------------- | ------------------------------------------- | ------------------------------- |
| Segment                       | Customer entered segment                | ✅                                | ✅                                           | ✅                               |
| Segment                       | Customer left segment                   | ✅                                | ✅                                           | ✅                               |
| Cart                          | Order update                            | ✅                                | ✅                                           | ✅                               |
| Cart                          | Order has been paid                     | ✅                                | ✅                                           | ✅                               |
| Cart                          | Order creation                          | ✅                                | ✅                                           | ✅                               |
| Cart                          | Order cancelled                         | ✅                                | ✅                                           | ✅                               |
| Voucher                       | Gift credits adjusted                   | ❌                                | ❌                                           | ✅                               |
| Voucher                       | Loyalty points adjusted                 | ❌                                | ❌                                           | ✅                               |
| Voucher                       | Loyalty points expired                  | ❌                                | ❌                                           | ✅                               |
| Voucher                       | Loyalty pending points adjusted         | ❌                                | ❌                                           | ✅                               |
| Voucher                       | Loyalty pending points updated          | ❌                                | ❌                                           | ✅                               |
| Voucher                       | Loyalty pending points activated        | ❌                                | ❌                                           | ✅                               |
| Voucher                       | Loyalty pending points canceled         | ❌                                | ❌                                           | ✅                               |
| Voucher                       | Voucher redeemed                        | ❌                                | ❌                                           | ✅                               |
| Voucher                       | Voucher redemption rolledback           | ❌                                | ❌                                           | ✅                               |
| Customer rewards              | Reward redemption                       | ❌                                | ❌                                           | ✅                               |
| Manual messages               | One or bulk messages                    | ✅                                | ✅                                           | ❌                               |
| Publishing codes              | Successfully published                  | ❌                                | ❌                                           | ✅                               |
| Custom events                 | Custom event                            | ✅                                | ✅                                           | ✅                               |
| Loyalty tier related activity | Customer entered loyalty tier structure | ❌                                | ❌                                           | ✅                               |
| Loyalty tier related activity | Customer left loyalty tier structure    | ❌                                | ❌                                           | ✅                               |
| Loyalty tier related activity | Customer loyalty tier upgraded          | ❌                                | ❌                                           | ✅                               |
| Loyalty tier related activity | Customer loyalty tier downgraded        | ❌                                | ❌                                           | ✅                               |
| Loyalty tier related activity | Customer loyalty tier prolonged         | ❌                                | ❌                                           | ✅                               |
| Loyalty tier related activity | Customer rewarded loyalty points        | ❌                                | ❌                                           | ✅                               |
| Referral related activity     | Customer was referred                   | ❌                                | ❌                                           | ✅                               |

* Custom events:
  * [Custom event](/api-reference/customer/custom-event "Customer custom event event documentation")

* Segment related activities:

  * [Customer entered segment](/api-reference/customer/segment-entered "Customer entered segment event documentation")
  * [Customer left segment](/api-reference/customer/segment-left "Customer left segment event documentation")

* Manual messages:

  * Notify customers about promotion – covered by [the MANUAL\_DISTRIBUTION\_SCHEDULE event](/api-reference/distribution/manual-distribution-schedule "Manual distribution schedule event documentation")
  * Send and publish unique codes from a campaign – covered by [the MANUAL\_DISTRIBUTION\_SCHEDULE event](/api-reference/distribution/manual-distribution-schedule "Manual distribution schedule event documentation")
  * Send a plain message to customers – does not support webhooks as a distribution channel

* Cart related activities:

  * [Order updated](/api-reference/customer/order-updated "Order updated event documentation")
  * [Order paid](/api-reference/customer/order-paid "Order paid event documentation")
  * [Order created](/api-reference/customer/order-created "Order created event documentation")
  * [Order canceled](/api-reference/customer/order-canceled "Order canceled event documentation")

* Publishing codes:
  * [Successfully published](/api-reference/customer/publication-succeeded "Code published event documentation")

* Voucher related activities:

  * [Gift credits added](/api-reference/customer/voucher-gift-balance-added "Gift credits added event documentation")
  * [Loyalty points added](/api-reference/customer/voucher-loyalty-card-points-added "Loyalty points added event documentation")
  * [Loyalty card points expired](/api-reference/customer/voucher-loyalty-card-points-expired "Customer loyalty card points expired event documentation")
  * [Loyalty pending points added](/api-reference/customer/voucher-loyalty-card-pending-points-added "Customer loyalty card pending points added")
  * [Loyalty pending points updated](/api-reference/customer/voucher-loyalty-card-pending-points-updated "Voucher loyalty card pending points update event documentation")
  * [Loyalty pending points activated](/api-reference/customer/voucher-loyalty-card-pending-points-activated "Customer loyalty card pending points activated")
  * [Loyalty pending points canceled](/api-reference/customer/voucher-loyalty-card-pending-points-canceled "Customer loyalty card pending points canceled")
  * [Voucher redeemed](/api-reference/customer/redemption-succeeded "Voucher redeemed event documentation")
  * [Voucher redemption rolled back](/api-reference/customer/redemption-rollback-succeeded "Voucher redemption rolled back event documentation")

* Customer rewards:
  * [Reward redeemed](/api-reference/customer/rewarded "Customer rewarded documentation")

* Loyalty tier related activities:

  * [Customer entered loyalty tier structure](/api-reference/customer/loyalty-tier-joined "Customer entered loyalty tier structure event documentation")
  * [Customer left loyalty tier structure](/api-reference/customer/loyalty-tier-left "Customer left loyalty tier structure event documentation")
  * [Customer loyalty tier upgraded](/api-reference/customer/loyalty-tier-upgraded "Customer loyalty tier upgraded event documentation")
  * [Customer loyalty tier downgraded](/api-reference/customer/loyalty-tier-downgraded "Customer loyalty tier downgraded event documentation")
  * [Customer loyalty tier prolonged](/api-reference/customer/loyalty-tier-prolonged "Customer loyalty tier prolonged event documentation")
  * [Customer rewarded loyalty points](/api-reference/customer/rewarded-loyalty-points "Customer rewarded loyalty points documentation")

* Referral related activities:
  * Customer was referred

### Loyalty and referral campaign Distributions

The following campaigns can also trigger webhook sendouts as a distribution:

* Loyalty campaigns:

  * [Send loyalty program code](/api-reference/customer/publication-succeeded)
  * [Loyalty points gained](/api-reference/customer/rewarded-loyalty-points)
  * [Reward redeemed](/api-reference/customer/reward-redemptions-completed)

* Referral campaigns:

  * [Send referral code to the referrer](/api-reference/customer/publication-succeeded)
  * Customer referred (documentation in progress)

### Distribution webhook payload

| Attributes          | Description                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| ------------------- | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| id`string`          | Unique identifier of the sendout for this webhook.**Example:**&#x77;hs\_0e16e42bc6e0c65b57                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| project\_id`string` | Unique identifier of the Voucherify project.**Example:**&#x70;roj\_5T4Rpl4T1nuM                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| created\_at`string` | The exact moment when the webhook was created.**Example:**&#x32;024-01-01T11:11:11.111Z                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| type`string`        | Displays the name entered in the `Event name` field in the distribution creator.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| data`object`        | Payload depends on the event that triggered the webhook sendout. Distributions cover the following events:- [`customer.custom_event`](/reference/events-customer-custom_event)
- [`customer.loyalty.tier.downgraded`](/reference/events-customer-loyalty-tier-downgraded)
- [`customer.loyalty.tier.joined`](/reference/events-customer-loyalty-tier-joined)
- [`customer.loyalty.tier.left`](/reference/events-customer-loyalty-tier-left)
- [`customer.loyalty.tier.prolonged`](/reference/events-customer-loyalty-tier-prolonged)
- [`customer.loyalty.tier.upgraded`](/reference/events-customer-loyalty-tier-upgraded)
- [`customer.order.canceled`](/reference/events-customer-order-canceled)
- [`customer.order.created`](/reference/events-customer-order-created)
- [`customer.order.paid`](/reference/events-customer-order-paid)
- [`customer.order.updated`](/reference/events-customer-order-updated)
- [`customer.publication.succeeded`](/reference/events-customer-publication-succeeded)
- [`customer.redemption.rollback.succeeded`](/reference/events-customer-redemption-rollback-succeeded)
- [`customer.redemption.succeeded`](/reference/events-customer-redemption-succeeded)
- `customer.referred`
- [`customer.reward_redemptions.completed`](/reference/events-customer-reward_redemptions-completed)
- [`customer.rewarded`](/reference/events-customer-rewarded)
- [`customer.rewarded.loyalty_points`](/reference/events-customer-rewarded-loyalty_points)
- [`customer.segment.entered`](/reference/events-customer-segment-entered)
- [`customer.segment.left`](/reference/events-customer-segment-left)
- [`customer.voucher.gift.balance_added`](/reference/events-customer-voucher-gift-balance_added)
- [`customer.voucher.loyalty_card.pending_points.activated`](/reference/events-customer-voucher-loyalty_card-pending_points-activated)
- [`customer.voucher.loyalty_card.pending_points.added`](/reference/events-customer-voucher-loyalty_card-pending_points-added)
- [`customer.voucher.loyalty_card.pending_points.canceled`](/reference/events-customer-voucher-loyalty_card-pending_points-canceled)
- [`customer.voucher.loyalty_card.pending_points.updated`](/reference/events-customer-voucher-loyalty_card-pending_points-updated)
- [`customer.voucher.loyalty_card.points_added`](/reference/events-customer-voucher-loyalty_card-points_added)
- [`customer.voucher.loyalty_card.points_expired`](/reference/events-customer-voucher-loyalty_card-points_expired)
- [`manual_distribution_schedule`](/reference/events-distribution-manual_distribution_schedule) |
| source`object`      | Contains details about the source of the webhook sendout.Attributes	Descriptionidstring&#xA;&#xA;Unique identifier of the distribution that sent the webhook.&#xA;&#xA;Example:&#xA;&#xA;distr\_TrJj0lHV44EMt6HvLa2pyNlHTF&#xA;&#xA;&#xA;objectstring	&#xA;&#xA;Determines the type of the object.&#xA;&#xA;Available values: distribution Example:&#xA;&#xA;distribution&#xA;&#xA;&#xA;target\_urlstring	&#xA;&#xA;The address where the webhook is be sent.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| event`object`       | Contains other data of the event that triggered the sendout.Attributes	Descriptionidstring&#xA;&#xA;Unique identifier of the event that triggered the sendout.&#xA;&#xA;Example:&#xA;&#xA;evred\_1f3611301g3127begb&#xA;&#xA;&#xA;typestring	&#xA;&#xA;Determines the type of the event.&#xA;&#xA;Example:&#xA;customer.custom\_event&#xA;customer.loyalty.tier.downgraded&#xA;customer.loyalty.tier.joined&#xA;customer.loyalty.tier.leftd&#xA;customer.loyalty.tier.prolonged&#xA;customer.loyalty.tier.upgraded&#xA;customer.order.canceled&#xA;customer.order.created&#xA;customer.order.paid&#xA;customer.order.updated&#xA;customer.publication.succeeded&#xA;customer.redemption.rollback.succeeded&#xA;customer.redemption.succeeded&#xA;customer.referred&#xA;customer.reward\_redemptions.completed&#xA;customer.rewarded&#xA;customer.rewarded.loyalty\_points&#xA;customer.segment.entered&#xA;customer.segment.left&#xA;customer.voucher.gift.balance\_added&#xA;customer.voucher.loyalty\_card.pending\_points.activated&#xA;customer.voucher.loyalty\_card.pending\_points.added&#xA;customer.voucher.loyalty\_card.pending\_points.canceled&#xA;customer.voucher.loyalty\_card.points\_added&#xA;customer.voucher.loyalty\_card.points\_expired&#xA;loyalty\_card.pending\_points.updated&#xA;manual\_distribution\_schedule&#xA;&#xA;created\_atstring	&#xA;&#xA;The exact moment when the event was created.&#xA;&#xA;Example:&#xA;&#xA;2024-01-01T11:11:11.111Z&#xA;&#xA;&#xA;entity\_idstring	&#xA;&#xA;Unique identifier of the entity that triggered the sendout.&#xA;&#xA;Example:&#xA;&#xA;r\_1f3611302bf107befb&#xA;&#xA;&#xA;group\_idstring	&#xA;&#xA;Unique identifier of the request that triggered the event.&#xA;&#xA;Example:&#xA;&#xA;v-1f36113948e50fc4ge&#xA;&#xA;&#xA;event\_sourceobject	&#xA;&#xA;Contains the source of the object that triggered the sendout.&#xA;&#xA;Attributes	Descriptionchannelstring	&#xA;&#xA;Determines the channel that triggered the sendout.&#xA;&#xA;Available values: USER\_PORTAL, API, CLIENT\_API, INTERNAL Example:&#xA;&#xA;API&#xA;&#xA;&#xA;userstring	&#xA;&#xA;Defines the user who triggered the event.&#xA;&#xA;&#xA;api\_keyobject	&#xA;&#xA;Determines the API key used to initiate the sendout.&#xA;&#xA;Attributes	Descriptionnamestring	&#xA;&#xA;Channel name in the application keys.&#xA;&#xA;&#xA;app\_idstring	&#xA;&#xA;Contains the application ID from the Voucherify API key pair.&#xA;&#xA;Example:&#xA;&#xA;1XXXX5XX-0XXX-XXXb-X7XX-XX2XXaXXX6XX                                                                           |
